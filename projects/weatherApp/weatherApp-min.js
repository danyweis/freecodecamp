function callback(e){country_code.innerHTML=e.country_code,state.innerHTML=e.state,city.innerHTML=e.city,console.log(e.country_name),console.log(e.city),console.log(e.state),createURL(e.latitude.toString(),e.longitude.toString())}function createURL(e,t){var r="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/405ddb43858fde92eea9e80833bbcf06/"+e+","+t+"?units=si";console.log(r),callData(r)}function callData(e){var t=new XMLHttpRequest;t.open("GET",e,!0);var r=new XMLHttpRequest;r.open("get",e,!0),r.onload=function(){theData=JSON.parse(r.response),weather(theData)},r.send()}function weather(e){timezone.innerHTML=e.timezone,temperature.innerHTML=Math.round(e.currently.temperature),temperatureMax.innerHTML=Math.round(e.daily.data[0].temperatureMax),temperatureMin.innerHTML=Math.round(e.daily.data[0].temperatureMin),console.log(e.currently.icon),change(e.currently.icon)}function change(e){var t=document.getElementById("app");"clear-day"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/clear-day.jpg')no-repeat center",t.style.backgroundSize="cover"):"clear-night"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/clear-night.jpg')no-repeat center",t.style.backgroundSize="cover"):"rain"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/rain.jpg')no-repeat center",t.style.backgroundSize="cover"):"snow"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/snow.jpg')no-repeat center",t.style.backgroundSize="cover"):"sleet"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/snow.jpg')no-repeat center",t.style.backgroundSize="cover"):"wind"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/wind.jpg')no-repeat center",t.style.backgroundSize="cover"):"fog"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/fog.jpg')no-repeat center",t.style.backgroundSize="cover"):"cloudy"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/cloudy.jpg')no-repeat center",t.style.backgroundSize="cover"):"partly-cloudy-day"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/partly-cloudy-day.jpg')no-repeat center",t.style.backgroundSize="cover"):"partly-cloudy-night"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/partly-cloudy-night.jpg')no-repeat center",t.style.backgroundSize="cover"):"hail"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/hail.jpg')no-repeat center",t.style.backgroundSize="cover"):"thunderstorm"===e?(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/thunderstorm.jpg')no-repeat center",t.style.backgroundSize="cover"):"tornado"===e&&(t.style.background="url('https://raw.githubusercontent.com/danyweis/pics4codepen/master/weather/bg/tornado.jpg')no-repeat center",t.style.backgroundSize="cover")}var country_code=document.getElementById("country_code"),city=document.getElementById("city"),state=document.getElementById("state"),theData,timezone=document.getElementById("timeZone"),temperature=document.getElementById("temp"),temperatureMax=document.getElementById("maxTemp"),temperatureMin=document.getElementById("minTemp"),script=document.createElement("script");script.type="text/javascript",script.src="https://geoip-db.com/jsonp";var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(script,h);